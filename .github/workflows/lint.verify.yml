name: Run linter - verify

on:
    workflow_call:

jobs:
    lint:
        runs-on: ubuntu-latest
        
        steps:
            - name: Checkout repository
              uses: actions/checkout@v4
              with:
                  fetch-depth: 2

            -   uses: actions/setup-node@v4
                with:
                    node-version: 22
                    cache: 'npm'

            - name: Install dependencies
              run: npm ci 

            - name: Run lint & format
              run: npx lint-staged --config lint-staged.verify.cjs --relative --diff HEAD^1 HEAD
